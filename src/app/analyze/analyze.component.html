<mat-toolbar color="primary">
  <button mat-button (click)="goBack()">
    <mat-icon>arrow_back</mat-icon>
  </button>
  <span>Classroot Tech - Analyze</span>
</mat-toolbar>

<div fxLayout="row" fxLayoutAlign="center" [ngSwitch]="count">
  <ng-template let-i="index" ngFor let-question [ngForOf]="questions | async">
    <div *ngSwitchCase="i" fxFlex.xs="100" fxFlex.md="80" fxFlex.lg="60" class="mat-card-padding">
      <mat-card>
        <mat-card-header>
          <mat-card-title>Just answer a few simple questions for us...</mat-card-title>
        </mat-card-header>
        <mat-card-content *ngFor="let question of (questions | async)">
          <mat-checkbox>{{question.content}}</mat-checkbox>
        </mat-card-content>
        <!-- <mat-card-actions>
          <button mat-button (click)="next(true, question.$key)">YES</button>
          <button mat-button (click)="next(false, question.$key)">NO</button>
        </mat-card-actions> -->
      </mat-card>
    </div>
  </ng-template>

  <div *ngSwitchDefault fxFlex.xs="100" fxFlex.md="80" fxFlex.lg="60" class="mat-card-padding">
    <mat-card>
      <mat-card-header>
        <mat-card-title>Picture</mat-card-title>
      </mat-card-header>
      <mat-card-content class="text-center">
        <img *ngIf="photo" [src]="photo" alt="User selected photo" class="full-img">
        <input #fileInput type="file" accept="image/*;capture=camera" (change)="selectPhoto($event)" class="hide">
        <p *ngIf="!photo">Select a photo so we can analyze your classroom</p>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button [disabled]="processing" (click)="takePicture()">{{(photo)? 'RE':null}}SELECT PICTURE</button>
        <button mat-button [disabled]="processing" *ngIf="photo" (click)="submit()">SUBMIT</button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
